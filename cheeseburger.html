<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GIF Upload, Live Clock, and Date</title>
    <style>
        body {
            margin: 0;
            height: 100vh;
            display: flex;
            justify-content: space-between; /* Aligns upload, clock, and date on the side */
            align-items: center;
            background-color: #f0f0f0; /* Light background for visibility */
            overflow: hidden;
        }

        .box {
            background-color: white;
            border: none;
            padding: 20px;
            margin: 10px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
            cursor: move; /* Changes the cursor to indicate drag */
            position: relative;
            width: 200px; /* Set width for the boxes */
            user-select: none; /* Prevents text selection */
        }

        .text {
            font-size: 1.9rem; /* Increase the font size */
            font-weight: bold; /* Makes the font thicker */
            text-align: center;
        }

        #gifContainer {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            display: none; /* Initially hidden */
            z-index: 1; /* Ensures it appears above other elements */
        }

        #uploadedGif {
            max-width: 100%;
            max-height: 100%;
            width: auto;
            height: auto;
        }
    </style>
</head>
<body>
    <input type="file" id="gifInput" accept="image/gif" style="margin: 10px;">
    <div class="box" id="clockBox">
        <div id="liveClock" class="text"></div>
    </div>
    <div class="box" id="dateBox">
        <div id="liveDate" class="text"></div>
    </div>

    <div id="gifContainer">
        <img id="uploadedGif" src="" alt="Uploaded GIF">
    </div>

    <script>
        // Function to update the clock and date
        function updateTimeAndDate() {
            const options = { timeZone: 'America/Chicago', hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: true };
            const dateOptions = { timeZone: 'America/Chicago', year: 'numeric', month: '2-digit', day: '2-digit' };
            
            const now = new Date();
            const timeString = now.toLocaleTimeString('en-US', options);
            const dateString = now.toLocaleDateString('en-US', dateOptions);
            
            document.getElementById('liveClock').textContent = timeString;
            document.getElementById('liveDate').textContent = dateString;
        }

        // Call updateTimeAndDate every second
        setInterval(updateTimeAndDate, 1000);
        updateTimeAndDate(); // Initial call to display immediately

        // Drag functionality for boxes
        dragElement(document.getElementById("clockBox"));
        dragElement(document.getElementById("dateBox"));
        
        // Drag functionality for the uploaded GIF
        dragElement(document.getElementById("gifContainer"));

        function dragElement(el) {
            let pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
            el.onmousedown = dragMouseDown;
            el.ontouchstart = dragMouseDown; // Mobile support

            function dragMouseDown(e) {
                e = e || window.event;
                pos3 = (e.touches ? e.touches[0].clientX : e.clientX);
                pos4 = (e.touches ? e.touches[0].clientY : e.clientY);
                document.onmouseup = closeDragElement;
                document.onmousemove = elementDrag;
                document.ontouchmove = elementDrag; // Mobile support
            }

            function elementDrag(e) {
                e = e || window.event;
                pos1 = pos3 - (e.touches ? e.touches[0].clientX : e.clientX);
                pos2 = pos4 - (e.touches ? e.touches[0].clientY : e.clientY);
                pos3 = (e.touches ? e.touches[0].clientX : e.clientX);
                pos4 = (e.touches ? e.touches[0].clientY : e.clientY);
                el.style.top = (el.offsetTop - pos2) + "px";
                el.style.left = (el.offsetLeft - pos1) + "px";
            }

            function closeDragElement() {
                document.onmouseup = null;
                document.onmousemove = null;
                document.ontouchmove = null; // Mobile support
            }
        }

        // Handle GIF upload
        document.getElementById('gifInput').addEventListener('change', function(event) {
            const file = event.target.files[0];
            if (file && file.type === 'image/gif') {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const gifContainer = document.getElementById('gifContainer');
                    const uploadedGif = document.getElementById('uploadedGif');
                    uploadedGif.src = e.target.result;
                    gifContainer.style.display = 'block'; // Show the uploaded GIF
                }
                reader.readAsDataURL(file);
            } else {
                alert('Please upload a valid GIF file.');
            }
        });
    </script>
</body>
</html>
